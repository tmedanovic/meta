(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/platform-browser"),require("@angular/router"),require("rxjs/Observable"),require("rxjs/add/observable/of"),require("rxjs/add/operator/concat"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("rxjs/add/operator/reduce"),require("rxjs/add/operator/take"),require("rxjs/symbol/observable")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/platform-browser","@angular/router","rxjs/Observable","rxjs/add/observable/of","rxjs/add/operator/concat","rxjs/add/operator/filter","rxjs/add/operator/map","rxjs/add/operator/reduce","rxjs/add/operator/take","rxjs/symbol/observable"],e):"object"==typeof exports?exports.meta=e(require("@angular/core"),require("@angular/platform-browser"),require("@angular/router"),require("rxjs/Observable"),require("rxjs/add/observable/of"),require("rxjs/add/operator/concat"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("rxjs/add/operator/reduce"),require("rxjs/add/operator/take"),require("rxjs/symbol/observable")):t.meta=e(t["@angular/core"],t["@angular/platform-browser"],t["@angular/router"],t["rxjs/Observable"],t["rxjs/add/observable/of"],t["rxjs/add/operator/concat"],t["rxjs/add/operator/filter"],t["rxjs/add/operator/map"],t["rxjs/add/operator/reduce"],t["rxjs/add/operator/take"],t["rxjs/symbol/observable"])})(this,function(t,e,r,a,i,o,n,s,u,l,c){return function(t){function e(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=6)}([function(t,e,r){"use strict";var a=r(1);r.d(e,"a",function(){return i}),r.d(e,"b",function(){return o});var i=function(){function t(){}return t}(),o=function(){function t(t){void 0===t&&(t={pageTitlePositioning:a.a.PrependPageTitle,defaults:{}}),this.settings=t}return t.prototype.getSettings=function(){return this.settings},t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var a;(function(t){t[t.AppendPageTitle=0]="AppendPageTitle",t[t.PrependPageTitle=10]="PrependPageTitle"})(a||(a={}))},function(t,e,r){"use strict";var a=r(3),i=r(5),o=(r.n(i),r(4)),n=(r.n(o),r(8)),s=(r.n(n),r(9)),u=(r.n(s),r(10)),l=(r.n(u),r(11)),c=(r.n(l),r(12)),d=(r.n(c),r(13)),f=(r.n(d),r(14)),p=(r.n(f),r(15)),g=(r.n(p),r(1)),h=r(0),m=r(7);r.d(e,"a",function(){return b});var b=function(){function t(t,e,r,a){this.loader=t,this.router=e,this.document=r,this.activatedRoute=a,this._dom=i.__platform_browser_private__.getDOM(),this.metaSettings=t.getSettings(),this.isMetaTagSet={},this.metaSettings.defer||this.init()}return t.prototype.init=function(t){var e=this;void 0===t&&(t=!0),t&&(this.useRouteData=!0,this.router.events.filter(function(t){return t instanceof n.NavigationEnd}).subscribe(function(t){e.traverseRoutes(e.activatedRoute,t.urlAfterRedirects)}))},t.prototype.refresh=function(){this.useRouteData&&this.traverseRoutes(this.router.routerState.root,this.router.url)},t.prototype.setTitle=function(t,e,r){var a=this;void 0===e&&(e=!1),void 0===r&&(r=!0);var i=this.getTitleWithPositioning(t,e);if(r){var o=this.router.events.filter(function(t){return t instanceof n.NavigationEnd}).subscribe(function(){a.updateTitle(i)});setTimeout(function(){o.unsubscribe()},1)}else this.updateTitle(i)},t.prototype.setTag=function(t,e,r){var a=this;if(void 0===r&&(r=!0),"title"===t)throw new Error("Attempt to set "+t+" through 'setTag': 'title' is a reserved tag name. Please use 'MetaService.setTitle' instead.");var i="og:locale"!==t&&"og:locale:alternate"!==t?this.callback(e||(this.metaSettings.defaults&&this.metaSettings.defaults[t]?this.metaSettings.defaults[t]:"")):s.Observable.of(e||(this.metaSettings.defaults&&this.metaSettings.defaults[t]?this.metaSettings.defaults[t]:""));if(r){var o=this.router.events.filter(function(t){return t instanceof n.NavigationEnd}).subscribe(function(){a.updateMetaTag(t,i)});setTimeout(function(){o.unsubscribe()},1)}else this.updateMetaTag(t,i)},t.prototype.createMetaTag=function(t){var e=this._dom.createElement("meta");this._dom.setAttribute(e,0===t.lastIndexOf("og:",0)?"property":"name",t);var r=this.document.head;return this._dom.appendChild(r,e),e},t.prototype.getOrCreateMetaTag=function(t){var e='meta[name="'+t+'"]',r=this.document.head;0===t.lastIndexOf("og:",0)&&(e='meta[property="'+t+'"]');var a=this._dom.querySelector(r,e);return a||(a=this.createMetaTag(t)),a},t.prototype.callback=function(t){if(this.metaSettings.callback){var e=this.metaSettings.callback(t);return r.i(m.a)(e)?e:s.Observable.of(e)}return s.Observable.of(t)},t.prototype.getTitleWithPositioning=function(t,e){var r=this,a=this.metaSettings.defaults&&this.metaSettings.defaults.title?this.callback(this.metaSettings.defaults.title):s.Observable.of(""),i=t?this.callback(t).concat(a).filter(function(t){return!!t}).take(1):a;switch(this.metaSettings.pageTitlePositioning){case g.a.AppendPageTitle:return(!e&&this.metaSettings.pageTitleSeparator&&this.metaSettings.applicationName?this.callback(this.metaSettings.applicationName).map(function(t){return t+r.metaSettings.pageTitleSeparator}):s.Observable.of("")).concat(i).reduce(function(t,e){return t+e});case g.a.PrependPageTitle:return i.concat(!e&&this.metaSettings.pageTitleSeparator&&this.metaSettings.applicationName?this.callback(this.metaSettings.applicationName).map(function(t){return r.metaSettings.pageTitleSeparator+t}):s.Observable.of("")).reduce(function(t,e){return t+e});default:throw new Error("Invalid pageTitlePositioning specified ["+this.metaSettings.pageTitlePositioning+"]!")}},t.prototype.updateTitle=function(t){var e=this,r=this.getOrCreateMetaTag("og:title");t.subscribe(function(t){e._dom.setAttribute(r,"content",t),e.setDomTitle(t)})},t.prototype.setDomTitle=function(t){var e=this.document.head,r=this._dom.querySelector(e,"title");r||(r=this._dom.createElement("title"),this._dom.appendChild(e,r)),this._dom.setInnerHTML(r,t)},t.prototype.updateLocales=function(t,e){var r=this;t||(t=this.metaSettings.defaults?this.metaSettings.defaults["og:locale"]:""),t&&this.metaSettings.defaults&&(this.metaSettings.defaults["og:locale"]=t.replace(/_/g,"-"));for(var a,i=0;i<this.document.children.length;++i)if("html"===this.document.children[i].name||"HTML"===this.document.children[i].nodeName){a=this.document.children[i];break}this._dom.setAttribute(a,"lang",t);var o=this.document.head,n=this._dom.querySelectorAll(o,'meta[property="og:locale:alternate"]');n=Array.prototype.slice.call(n),n.forEach(function(t){r._dom.removeChild(o,t)}),t&&e&&e.split(",").forEach(function(e){if(t.replace(/-/g,"_")!==e.replace(/-/g,"_")){var a=r.createMetaTag("og:locale:alternate");r._dom.setAttribute(a,"content",e.replace(/-/g,"_"))}})},t.prototype.updateMetaTag=function(t,e){var r=this,a=this.getOrCreateMetaTag(t);e.subscribe(function(e){if(r._dom.setAttribute(a,"content","og:locale"===t?e.replace(/-/g,"_"):e),r.isMetaTagSet[t]=!0,"description"===t){var i=r.getOrCreateMetaTag("og:description");r._dom.setAttribute(i,"content",e)}else if("author"===t){var o=r.getOrCreateMetaTag("og:author");r._dom.setAttribute(o,"content",e)}else if("publisher"===t){var n=r.getOrCreateMetaTag("og:publisher");r._dom.setAttribute(n,"content",e)}else if("og:locale"===t){var s=r.metaSettings.defaults?r.metaSettings.defaults["og:locale:alternate"]:"";r.updateLocales(e,s),r.isMetaTagSet["og:locale:alternate"]=!0}else if("og:locale:alternate"===t){var u=r.getOrCreateMetaTag("og:locale"),l=u.getAttribute("content");r.updateLocales(l,e),r.isMetaTagSet["og:locale"]=!0}})},t.prototype.updateMetaTags=function(t,e){var r=this;if(e){if(e.disabled)return void this.updateMetaTags(t);this.setTitle(e.title,e.override,!1),Object.keys(e).forEach(function(t){var a=e[t];if("title"!==t&&"override"!==t){if("og:locale"===t)a=a.replace(/-/g,"_");else if("og:locale:alternate"===t){var i=e["og:locale"];return void r.updateLocales(i,e[t])}r.setTag(t,a,!1)}})}else{var a=this.metaSettings.defaults?this.metaSettings.defaults.title||this.metaSettings.applicationName:this.metaSettings.applicationName;this.setTitle(a,!0,!1)}this.metaSettings.defaults&&Object.keys(this.metaSettings.defaults).forEach(function(t){var a=r.metaSettings.defaults[t];if(!(e&&(t in r.isMetaTagSet||t in e)||"title"===t||"override"===t)){if("og:locale"===t)a=a.replace(/-/g,"_");else if("og:locale:alternate"===t){var i=e?e["og:locale"]:void 0;return void r.updateLocales(i,r.metaSettings.defaults[t])}r.setTag(t,a,!1)}});var i=((this.metaSettings.applicationUrl||"/")+t).replace(/(https?:\/\/)|(\/)+/g,"$1$2").replace(/\/$/g,"");this.setTag("og:url",i||"/",!1)},t.prototype.traverseRoutes=function(t,e){for(;t.children.length>0;)if(t=t.firstChild,t.snapshot.routeConfig.data){var r=t.snapshot.routeConfig.data.meta;this.updateMetaTags(e,r)}else this.updateMetaTags(e)},t}();b=a.a([r.i(o.Injectable)(),a.b(2,r.i(o.Inject)(i.DOCUMENT)),a.c("design:paramtypes",[h.a,n.Router,Object,n.ActivatedRoute])],b)},function(t,e,r){"use strict";function a(t,e,r,a){var i,o=arguments.length,n=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(o<3?i(n):o>3?i(e,r,n):i(e,r))||n);return o>3&&n&&Object.defineProperty(e,r,n),n}function i(t,e){return function(r,a){e(r,a,t)}}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}e.a=a,e.b=i,e.c=o;Object.setPrototypeOf||Array,Object.assign},function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e,r){"use strict";function a(){return new n.b}Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(4),n=(r.n(o),r(0)),s=r(2),u=r(1);r.d(e,"PageTitlePositioning",function(){return u.a}),r.d(e,"MetaLoader",function(){return n.a}),r.d(e,"MetaStaticLoader",function(){return n.b}),r.d(e,"MetaService",function(){return s.a}),e.metaFactory=a,r.d(e,"MetaModule",function(){return l});var l=c=function(){function t(t){if(t)throw new Error("MetaModule already loaded; import in root module only.")}return t.forRoot=function(t){return void 0===t&&(t={provide:n.a,useFactory:a}),{ngModule:c,providers:[t,s.a]}},t}();l=c=i.a([r.i(o.NgModule)(),i.b(0,r.i(o.Optional)()),i.b(0,r.i(o.SkipSelf)()),i.c("design:paramtypes",[l])],l);var c},function(t,e,r){"use strict";function a(t){return!(!t||!t[i.$$observable])}var i=r(16);r.n(i);e.a=a},function(t,e){t.exports=r},function(t,e){t.exports=a},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=n},function(t,e){t.exports=s},function(t,e){t.exports=u},function(t,e){t.exports=l},function(t,e){t.exports=c}])});